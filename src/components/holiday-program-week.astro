---
import type { HolidayProgramWeek } from "@/utils/storyblok-api-client";
import { getDateSuffix } from "@/utils/dates";
import { DateTime } from "luxon";
import StarBulletPoints from "./star-bullet-points.astro";

type Props = {
  week: HolidayProgramWeek;
};

const { week } = Astro.props;
---

<h1>{week.title}</h1>
<h2>{week.dates}</h2>
{
  week.programs.map((program) => (
    <>
      <p>
        {DateTime.fromJSDate(program.date).toFormat("EEE d")}
        {getDateSuffix(program.date.getDay())}
      </p>
      <p>
        {program.slot === "morning" ? "Morning Activity" : "Afternoon Activity"}
      </p>
      <p>{program.title}</p>
      <p>
        {DateTime.fromJSDate(program.date).toFormat("EEEE d")}
        <span>{getDateSuffix(program.date.getDay())}</span>{" "}
        {DateTime.fromJSDate(program.date).toFormat("MMMM")}
      </p>
      <StarBulletPoints content={program.creations} />
    </>
  ))
}
