---
import { Image } from "astro:assets";
import type { ClassValue } from "clsx";
import { cn } from "./react/lib/utils";

type Props = {
  image: ImageMetadata;
  imageAlt: string;
  eager?: boolean;
  className?: ClassValue;
  imageClassName?: ClassValue;
};

const {
  image,
  imageAlt,
  eager = false,
  className,
  imageClassName,
} = Astro.props;
---

<div
  class={cn(
    "flex flex-col rounded-xl shadow-md bg-white overflow-hidden h-full",
    className,
  )}
>
  <div
    class={cn(
      "h-52 flex-shrink-0 overflow-hidden rounded-t-xl",
      imageClassName,
    )}
  >
    <Image
      loading={eager ? "eager" : "lazy"}
      src={image}
      alt={imageAlt}
      width={1000}
      class="h-full w-full rounded-t-xl object-cover transition-transform duration-500 ease-in-out group-hover:scale-110"
    />
  </div>
  <slot class="h-max" name="content" />
</div>
